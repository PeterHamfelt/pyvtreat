

```python
!pip install /Users/johnmount/Documents/work/pyvtreat/pkg/dist/vtreat-0.1.tar.gz
#!pip install https://github.com/WinVector/pyvtreat/raw/master/pkg/dist/vtreat-0.1.tar.gz
```

    Processing /Users/johnmount/Documents/work/pyvtreat/pkg/dist/vtreat-0.1.tar.gz
    Requirement already satisfied: numpy in /Users/johnmount/anaconda3/envs/aiAcademy/lib/python3.7/site-packages (from vtreat==0.1) (1.16.4)
    Requirement already satisfied: pandas in /Users/johnmount/anaconda3/envs/aiAcademy/lib/python3.7/site-packages (from vtreat==0.1) (0.24.2)
    Requirement already satisfied: statistics in /Users/johnmount/anaconda3/envs/aiAcademy/lib/python3.7/site-packages (from vtreat==0.1) (1.0.3.5)
    Requirement already satisfied: scipy in /Users/johnmount/anaconda3/envs/aiAcademy/lib/python3.7/site-packages (from vtreat==0.1) (1.2.1)
    Requirement already satisfied: pytz>=2011k in /Users/johnmount/anaconda3/envs/aiAcademy/lib/python3.7/site-packages (from pandas->vtreat==0.1) (2019.1)
    Requirement already satisfied: python-dateutil>=2.5.0 in /Users/johnmount/anaconda3/envs/aiAcademy/lib/python3.7/site-packages (from pandas->vtreat==0.1) (2.8.0)
    Requirement already satisfied: docutils>=0.3 in /Users/johnmount/anaconda3/envs/aiAcademy/lib/python3.7/site-packages (from statistics->vtreat==0.1) (0.14)
    Requirement already satisfied: six>=1.5 in /Users/johnmount/anaconda3/envs/aiAcademy/lib/python3.7/site-packages (from python-dateutil>=2.5.0->pandas->vtreat==0.1) (1.12.0)
    Building wheels for collected packages: vtreat
      Building wheel for vtreat (setup.py) ... [?25ldone
    [?25h  Stored in directory: /Users/johnmount/Library/Caches/pip/wheels/cf/06/fc/6b2552717486fb6401f19308eec24381555e456e3bd9cfb103
    Successfully built vtreat
    Installing collected packages: vtreat
      Found existing installation: vtreat 0.1
        Uninstalling vtreat-0.1:
          Successfully uninstalled vtreat-0.1
    Successfully installed vtreat-0.1



```python
!pip install /Users/johnmount/Documents/work/wvpy/pkg/dist/wvpy-0.1.tar.gz
#!pip install https://github.com/WinVector/wvpy/raw/master/pkg/dist/wvpy-0.1.tar.gz
```

    Processing /Users/johnmount/Documents/work/wvpy/pkg/dist/wvpy-0.1.tar.gz
    Requirement already satisfied: statistics in /Users/johnmount/anaconda3/envs/aiAcademy/lib/python3.7/site-packages (from wvpy==0.1) (1.0.3.5)
    Requirement already satisfied: numpy in /Users/johnmount/anaconda3/envs/aiAcademy/lib/python3.7/site-packages (from wvpy==0.1) (1.16.4)
    Requirement already satisfied: matplotlib in /Users/johnmount/anaconda3/envs/aiAcademy/lib/python3.7/site-packages (from wvpy==0.1) (3.1.0)
    Requirement already satisfied: sklearn in /Users/johnmount/anaconda3/envs/aiAcademy/lib/python3.7/site-packages (from wvpy==0.1) (0.0)
    Requirement already satisfied: pandas in /Users/johnmount/anaconda3/envs/aiAcademy/lib/python3.7/site-packages (from wvpy==0.1) (0.24.2)
    Requirement already satisfied: docutils>=0.3 in /Users/johnmount/anaconda3/envs/aiAcademy/lib/python3.7/site-packages (from statistics->wvpy==0.1) (0.14)
    Requirement already satisfied: cycler>=0.10 in /Users/johnmount/anaconda3/envs/aiAcademy/lib/python3.7/site-packages (from matplotlib->wvpy==0.1) (0.10.0)
    Requirement already satisfied: kiwisolver>=1.0.1 in /Users/johnmount/anaconda3/envs/aiAcademy/lib/python3.7/site-packages (from matplotlib->wvpy==0.1) (1.1.0)
    Requirement already satisfied: pyparsing!=2.0.4,!=2.1.2,!=2.1.6,>=2.0.1 in /Users/johnmount/anaconda3/envs/aiAcademy/lib/python3.7/site-packages (from matplotlib->wvpy==0.1) (2.4.0)
    Requirement already satisfied: python-dateutil>=2.1 in /Users/johnmount/anaconda3/envs/aiAcademy/lib/python3.7/site-packages (from matplotlib->wvpy==0.1) (2.8.0)
    Requirement already satisfied: scikit-learn in /Users/johnmount/anaconda3/envs/aiAcademy/lib/python3.7/site-packages (from sklearn->wvpy==0.1) (0.21.2)
    Requirement already satisfied: pytz>=2011k in /Users/johnmount/anaconda3/envs/aiAcademy/lib/python3.7/site-packages (from pandas->wvpy==0.1) (2019.1)
    Requirement already satisfied: six in /Users/johnmount/anaconda3/envs/aiAcademy/lib/python3.7/site-packages (from cycler>=0.10->matplotlib->wvpy==0.1) (1.12.0)
    Requirement already satisfied: setuptools in /Users/johnmount/anaconda3/envs/aiAcademy/lib/python3.7/site-packages (from kiwisolver>=1.0.1->matplotlib->wvpy==0.1) (41.0.1)
    Requirement already satisfied: joblib>=0.11 in /Users/johnmount/anaconda3/envs/aiAcademy/lib/python3.7/site-packages (from scikit-learn->sklearn->wvpy==0.1) (0.13.2)
    Requirement already satisfied: scipy>=0.17.0 in /Users/johnmount/anaconda3/envs/aiAcademy/lib/python3.7/site-packages (from scikit-learn->sklearn->wvpy==0.1) (1.2.1)
    Building wheels for collected packages: wvpy
      Building wheel for wvpy (setup.py) ... [?25ldone
    [?25h  Stored in directory: /Users/johnmount/Library/Caches/pip/wheels/28/4c/d6/62fecbbece82266ee38611997d63be527cf60570e11e16c8c9
    Successfully built wvpy
    Installing collected packages: wvpy
      Found existing installation: wvpy 0.1
        Uninstalling wvpy-0.1:
          Successfully uninstalled wvpy-0.1
    Successfully installed wvpy-0.1



```python
import vtreat.util
```


```python
vtreat.util.k_way_cross_plan(10,4)
```




    [{'train': [1, 2, 3, 4, 5, 7, 8], 'app': [0, 6, 9]},
     {'train': [0, 1, 3, 4, 6, 7, 9], 'app': [2, 5, 8]},
     {'train': [0, 2, 4, 5, 6, 7, 8, 9], 'app': [1, 3]},
     {'train': [0, 1, 2, 3, 5, 6, 8, 9], 'app': [4, 7]}]




```python
import vtreat
```


```python
plan = vtreat.NumericOutcomeTreatment(outcome_name="y",
                                      params=vtreat.vtreat_parameters({'filter_to_recommended':False}))
```


```python
import pandas
import numpy
```


```python
# from https://pandas.pydata.org/pandas-docs/stable/user_guide/missing_data.html
df = pandas.DataFrame(numpy.random.randn(5, 3), index=['a', 'c', 'e', 'f', 'h'],
                      columns=['one', 'two', 'three'])
df['four'] = 'foo'
df['five'] = df['one'] > 0
df2 = df.reindex(['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h'])
df2.reset_index(inplace=True, drop=True)
df2["y"] = range(df2.shape[0])
df2.loc[3, "four"] = "blog"
df2["const"] = 1
```


```python
df2
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>one</th>
      <th>two</th>
      <th>three</th>
      <th>four</th>
      <th>five</th>
      <th>y</th>
      <th>const</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>-2.300266</td>
      <td>0.929874</td>
      <td>0.464463</td>
      <td>foo</td>
      <td>False</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>-0.076417</td>
      <td>-0.573195</td>
      <td>1.360757</td>
      <td>foo</td>
      <td>False</td>
      <td>2</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>blog</td>
      <td>NaN</td>
      <td>3</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1.459697</td>
      <td>1.589305</td>
      <td>0.682469</td>
      <td>foo</td>
      <td>True</td>
      <td>4</td>
      <td>1</td>
    </tr>
    <tr>
      <th>5</th>
      <td>0.416368</td>
      <td>0.983062</td>
      <td>-0.908183</td>
      <td>foo</td>
      <td>True</td>
      <td>5</td>
      <td>1</td>
    </tr>
    <tr>
      <th>6</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>6</td>
      <td>1</td>
    </tr>
    <tr>
      <th>7</th>
      <td>-0.430715</td>
      <td>-1.468672</td>
      <td>-0.274606</td>
      <td>foo</td>
      <td>False</td>
      <td>7</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div>




```python
plan.fit(df2, df2["y"])
```




    <vtreat.NumericOutcomeTreatment at 0x1a143deef0>




```python
plan.score_frame_
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>variable</th>
      <th>treatment</th>
      <th>y_aware</th>
      <th>has_range</th>
      <th>PearsonR</th>
      <th>significance</th>
      <th>vcount</th>
      <th>recommended</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>one_is_bad</td>
      <td>missing_indicator</td>
      <td>False</td>
      <td>True</td>
      <td>-0.056344</td>
      <td>0.894579</td>
      <td>5.0</td>
      <td>False</td>
    </tr>
    <tr>
      <th>1</th>
      <td>two_is_bad</td>
      <td>missing_indicator</td>
      <td>False</td>
      <td>True</td>
      <td>-0.056344</td>
      <td>0.894579</td>
      <td>5.0</td>
      <td>False</td>
    </tr>
    <tr>
      <th>2</th>
      <td>three_is_bad</td>
      <td>missing_indicator</td>
      <td>False</td>
      <td>True</td>
      <td>-0.056344</td>
      <td>0.894579</td>
      <td>5.0</td>
      <td>False</td>
    </tr>
    <tr>
      <th>3</th>
      <td>four_is_bad</td>
      <td>missing_indicator</td>
      <td>False</td>
      <td>True</td>
      <td>0.000000</td>
      <td>1.000000</td>
      <td>5.0</td>
      <td>False</td>
    </tr>
    <tr>
      <th>4</th>
      <td>five_is_bad</td>
      <td>missing_indicator</td>
      <td>False</td>
      <td>True</td>
      <td>-0.056344</td>
      <td>0.894579</td>
      <td>5.0</td>
      <td>False</td>
    </tr>
    <tr>
      <th>5</th>
      <td>one</td>
      <td>clean_copy</td>
      <td>False</td>
      <td>True</td>
      <td>0.453291</td>
      <td>0.259327</td>
      <td>4.0</td>
      <td>False</td>
    </tr>
    <tr>
      <th>6</th>
      <td>two</td>
      <td>clean_copy</td>
      <td>False</td>
      <td>True</td>
      <td>-0.329682</td>
      <td>0.425178</td>
      <td>4.0</td>
      <td>False</td>
    </tr>
    <tr>
      <th>7</th>
      <td>three</td>
      <td>clean_copy</td>
      <td>False</td>
      <td>True</td>
      <td>-0.508127</td>
      <td>0.198552</td>
      <td>4.0</td>
      <td>False</td>
    </tr>
    <tr>
      <th>8</th>
      <td>five</td>
      <td>clean_copy</td>
      <td>False</td>
      <td>True</td>
      <td>0.253546</td>
      <td>0.544582</td>
      <td>4.0</td>
      <td>False</td>
    </tr>
    <tr>
      <th>9</th>
      <td>four_impact_code</td>
      <td>impact_code</td>
      <td>True</td>
      <td>True</td>
      <td>-0.141848</td>
      <td>0.737580</td>
      <td>1.0</td>
      <td>False</td>
    </tr>
    <tr>
      <th>10</th>
      <td>four_deviance_code</td>
      <td>deviance_code</td>
      <td>True</td>
      <td>True</td>
      <td>-0.010071</td>
      <td>0.981119</td>
      <td>1.0</td>
      <td>False</td>
    </tr>
    <tr>
      <th>11</th>
      <td>four_prevalence_code</td>
      <td>prevalence_code</td>
      <td>False</td>
      <td>True</td>
      <td>0.066556</td>
      <td>0.875576</td>
      <td>1.0</td>
      <td>False</td>
    </tr>
    <tr>
      <th>12</th>
      <td>four_lev_foo</td>
      <td>indicator_code</td>
      <td>False</td>
      <td>True</td>
      <td>0.056344</td>
      <td>0.894579</td>
      <td>3.0</td>
      <td>False</td>
    </tr>
    <tr>
      <th>13</th>
      <td>four_lev__NA_</td>
      <td>indicator_code</td>
      <td>False</td>
      <td>True</td>
      <td>0.000000</td>
      <td>1.000000</td>
      <td>3.0</td>
      <td>False</td>
    </tr>
    <tr>
      <th>14</th>
      <td>four_lev_blog</td>
      <td>indicator_code</td>
      <td>False</td>
      <td>True</td>
      <td>-0.082479</td>
      <td>0.846053</td>
      <td>3.0</td>
      <td>False</td>
    </tr>
  </tbody>
</table>
</div>




```python
res = plan.transform(df2)
res
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>y</th>
      <th>one_is_bad</th>
      <th>two_is_bad</th>
      <th>three_is_bad</th>
      <th>four_is_bad</th>
      <th>five_is_bad</th>
      <th>one</th>
      <th>two</th>
      <th>three</th>
      <th>five</th>
      <th>four_impact_code</th>
      <th>four_deviance_code</th>
      <th>four_prevalence_code</th>
      <th>four_lev_foo</th>
      <th>four_lev__NA_</th>
      <th>four_lev_blog</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>-2.300266</td>
      <td>0.929874</td>
      <td>0.464463</td>
      <td>0.0</td>
      <td>0.005407</td>
      <td>2.702036</td>
      <td>0.500</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>-0.186267</td>
      <td>0.292075</td>
      <td>0.264980</td>
      <td>0.4</td>
      <td>0.000000</td>
      <td>3.535675</td>
      <td>0.125</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>-0.076417</td>
      <td>-0.573195</td>
      <td>1.360757</td>
      <td>0.0</td>
      <td>0.005407</td>
      <td>2.702036</td>
      <td>0.500</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>3</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>-0.186267</td>
      <td>0.292075</td>
      <td>0.264980</td>
      <td>0.4</td>
      <td>0.000000</td>
      <td>3.146585</td>
      <td>0.000</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>4</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.459697</td>
      <td>1.589305</td>
      <td>0.682469</td>
      <td>1.0</td>
      <td>0.005407</td>
      <td>2.702036</td>
      <td>0.500</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>5</th>
      <td>5</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.416368</td>
      <td>0.983062</td>
      <td>-0.908183</td>
      <td>1.0</td>
      <td>0.005407</td>
      <td>2.702036</td>
      <td>0.500</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>6</th>
      <td>6</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>-0.186267</td>
      <td>0.292075</td>
      <td>0.264980</td>
      <td>0.4</td>
      <td>0.000000</td>
      <td>3.535675</td>
      <td>0.125</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>7</th>
      <td>7</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>-0.430715</td>
      <td>-1.468672</td>
      <td>-0.274606</td>
      <td>0.0</td>
      <td>0.005407</td>
      <td>2.702036</td>
      <td>0.500</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div>




```python
res2 = plan.fit_transform(df2, df2["y"])
res2
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>y</th>
      <th>one_is_bad</th>
      <th>two_is_bad</th>
      <th>three_is_bad</th>
      <th>four_is_bad</th>
      <th>five_is_bad</th>
      <th>one</th>
      <th>two</th>
      <th>three</th>
      <th>five</th>
      <th>four_impact_code</th>
      <th>four_deviance_code</th>
      <th>four_prevalence_code</th>
      <th>four_lev_foo</th>
      <th>four_lev__NA_</th>
      <th>four_lev_blog</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>-2.300266</td>
      <td>0.929874</td>
      <td>0.464463</td>
      <td>0.0</td>
      <td>0.000000e+00</td>
      <td>2.081906</td>
      <td>0.500</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>-0.186267</td>
      <td>0.292075</td>
      <td>0.264980</td>
      <td>0.4</td>
      <td>0.000000e+00</td>
      <td>2.081906</td>
      <td>0.125</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>-0.076417</td>
      <td>-0.573195</td>
      <td>1.360757</td>
      <td>0.0</td>
      <td>1.239231e-02</td>
      <td>3.605690</td>
      <td>0.500</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>3</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>-0.186267</td>
      <td>0.292075</td>
      <td>0.264980</td>
      <td>0.4</td>
      <td>0.000000e+00</td>
      <td>0.000000</td>
      <td>0.000</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>4</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.459697</td>
      <td>1.589305</td>
      <td>0.682469</td>
      <td>1.0</td>
      <td>1.239231e-02</td>
      <td>3.605690</td>
      <td>0.500</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>5</th>
      <td>5</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.416368</td>
      <td>0.983062</td>
      <td>-0.908183</td>
      <td>1.0</td>
      <td>-7.469748e-04</td>
      <td>2.986246</td>
      <td>0.500</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>6</th>
      <td>6</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>-0.186267</td>
      <td>0.292075</td>
      <td>0.264980</td>
      <td>0.4</td>
      <td>-4.440892e-16</td>
      <td>2.217581</td>
      <td>0.125</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>7</th>
      <td>7</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>-0.430715</td>
      <td>-1.468672</td>
      <td>-0.274606</td>
      <td>0.0</td>
      <td>1.050757e-01</td>
      <td>2.217581</td>
      <td>0.500</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div>




```python
plan.transform(df2)
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>y</th>
      <th>one_is_bad</th>
      <th>two_is_bad</th>
      <th>three_is_bad</th>
      <th>four_is_bad</th>
      <th>five_is_bad</th>
      <th>one</th>
      <th>two</th>
      <th>three</th>
      <th>five</th>
      <th>four_impact_code</th>
      <th>four_deviance_code</th>
      <th>four_prevalence_code</th>
      <th>four_lev_foo</th>
      <th>four_lev__NA_</th>
      <th>four_lev_blog</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>-2.300266</td>
      <td>0.929874</td>
      <td>0.464463</td>
      <td>0.0</td>
      <td>0.005407</td>
      <td>2.702036</td>
      <td>0.500</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>-0.186267</td>
      <td>0.292075</td>
      <td>0.264980</td>
      <td>0.4</td>
      <td>0.000000</td>
      <td>3.535675</td>
      <td>0.125</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>-0.076417</td>
      <td>-0.573195</td>
      <td>1.360757</td>
      <td>0.0</td>
      <td>0.005407</td>
      <td>2.702036</td>
      <td>0.500</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>3</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>-0.186267</td>
      <td>0.292075</td>
      <td>0.264980</td>
      <td>0.4</td>
      <td>0.000000</td>
      <td>3.146585</td>
      <td>0.000</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>4</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>1.459697</td>
      <td>1.589305</td>
      <td>0.682469</td>
      <td>1.0</td>
      <td>0.005407</td>
      <td>2.702036</td>
      <td>0.500</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>5</th>
      <td>5</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.416368</td>
      <td>0.983062</td>
      <td>-0.908183</td>
      <td>1.0</td>
      <td>0.005407</td>
      <td>2.702036</td>
      <td>0.500</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>6</th>
      <td>6</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>-0.186267</td>
      <td>0.292075</td>
      <td>0.264980</td>
      <td>0.4</td>
      <td>0.000000</td>
      <td>3.535675</td>
      <td>0.125</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
    </tr>
    <tr>
      <th>7</th>
      <td>7</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>-0.430715</td>
      <td>-1.468672</td>
      <td>-0.274606</td>
      <td>0.0</td>
      <td>0.005407</td>
      <td>2.702036</td>
      <td>0.500</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div>




```python
plan.score_frame_
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>variable</th>
      <th>treatment</th>
      <th>y_aware</th>
      <th>has_range</th>
      <th>PearsonR</th>
      <th>significance</th>
      <th>vcount</th>
      <th>recommended</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>one_is_bad</td>
      <td>missing_indicator</td>
      <td>False</td>
      <td>True</td>
      <td>-0.056344</td>
      <td>0.894579</td>
      <td>5.0</td>
      <td>False</td>
    </tr>
    <tr>
      <th>1</th>
      <td>two_is_bad</td>
      <td>missing_indicator</td>
      <td>False</td>
      <td>True</td>
      <td>-0.056344</td>
      <td>0.894579</td>
      <td>5.0</td>
      <td>False</td>
    </tr>
    <tr>
      <th>2</th>
      <td>three_is_bad</td>
      <td>missing_indicator</td>
      <td>False</td>
      <td>True</td>
      <td>-0.056344</td>
      <td>0.894579</td>
      <td>5.0</td>
      <td>False</td>
    </tr>
    <tr>
      <th>3</th>
      <td>four_is_bad</td>
      <td>missing_indicator</td>
      <td>False</td>
      <td>True</td>
      <td>0.000000</td>
      <td>1.000000</td>
      <td>5.0</td>
      <td>False</td>
    </tr>
    <tr>
      <th>4</th>
      <td>five_is_bad</td>
      <td>missing_indicator</td>
      <td>False</td>
      <td>True</td>
      <td>-0.056344</td>
      <td>0.894579</td>
      <td>5.0</td>
      <td>False</td>
    </tr>
    <tr>
      <th>5</th>
      <td>one</td>
      <td>clean_copy</td>
      <td>False</td>
      <td>True</td>
      <td>0.453291</td>
      <td>0.259327</td>
      <td>4.0</td>
      <td>False</td>
    </tr>
    <tr>
      <th>6</th>
      <td>two</td>
      <td>clean_copy</td>
      <td>False</td>
      <td>True</td>
      <td>-0.329682</td>
      <td>0.425178</td>
      <td>4.0</td>
      <td>False</td>
    </tr>
    <tr>
      <th>7</th>
      <td>three</td>
      <td>clean_copy</td>
      <td>False</td>
      <td>True</td>
      <td>-0.508127</td>
      <td>0.198552</td>
      <td>4.0</td>
      <td>False</td>
    </tr>
    <tr>
      <th>8</th>
      <td>five</td>
      <td>clean_copy</td>
      <td>False</td>
      <td>True</td>
      <td>0.253546</td>
      <td>0.544582</td>
      <td>4.0</td>
      <td>False</td>
    </tr>
    <tr>
      <th>9</th>
      <td>four_impact_code</td>
      <td>impact_code</td>
      <td>True</td>
      <td>True</td>
      <td>0.567897</td>
      <td>0.141981</td>
      <td>1.0</td>
      <td>False</td>
    </tr>
    <tr>
      <th>10</th>
      <td>four_deviance_code</td>
      <td>deviance_code</td>
      <td>True</td>
      <td>True</td>
      <td>0.085582</td>
      <td>0.840316</td>
      <td>1.0</td>
      <td>False</td>
    </tr>
    <tr>
      <th>11</th>
      <td>four_prevalence_code</td>
      <td>prevalence_code</td>
      <td>False</td>
      <td>True</td>
      <td>0.066556</td>
      <td>0.875576</td>
      <td>1.0</td>
      <td>False</td>
    </tr>
    <tr>
      <th>12</th>
      <td>four_lev_foo</td>
      <td>indicator_code</td>
      <td>False</td>
      <td>True</td>
      <td>0.056344</td>
      <td>0.894579</td>
      <td>3.0</td>
      <td>False</td>
    </tr>
    <tr>
      <th>13</th>
      <td>four_lev__NA_</td>
      <td>indicator_code</td>
      <td>False</td>
      <td>True</td>
      <td>0.000000</td>
      <td>1.000000</td>
      <td>3.0</td>
      <td>False</td>
    </tr>
    <tr>
      <th>14</th>
      <td>four_lev_blog</td>
      <td>indicator_code</td>
      <td>False</td>
      <td>True</td>
      <td>-0.082479</td>
      <td>0.846053</td>
      <td>3.0</td>
      <td>False</td>
    </tr>
  </tbody>
</table>
</div>




```python

```
